<VirtualHost *:80>
        ServerName mall-api-staging1.gotomalls.com

        ServerAdmin devops@dominopos.com
        DocumentRoot /var/www/staging/orbit-mall-api/public

        <Directory /var/www/staging/orbit-mall-api/public>
          DirectoryIndex index.php
          Options FollowSymlinks
          AllowOverride None

        <IfModule mod_expires.c>
          <FilesMatch "\.(jpe?g|png|gif|js|css)$">
                ExpiresActive On
                ExpiresDefault "access plus 2 month"
          </FilesMatch>
        </IfModule>

  <IfModule mod_rewrite.c>
      Options +FollowSymLinks
      RewriteEngine On

      # Redirect Trailing Slashes...
      RewriteRule ^(.*)/$ /$1 [L,R=301]

      # Handle Front Controller...
      RewriteCond %{REQUEST_FILENAME} !-d
      RewriteCond %{REQUEST_FILENAME} !-f
      RewriteRule ^ index.php [L]
  </IfModule>

          Require all granted
        </Directory>

        ErrorLog ${APACHE_LOG_DIR}/mall-api-staging1.gotomalls.com.error.log
        CustomLog ${APACHE_LOG_DIR}/mall-api-staging1.gotomalls.com.log combined

        # For most configuration files from conf-available/, which are
        # enabled or disabled at a global level, it is possible to
        # include a line for only one particular virtual host. For example the
        # following line enables the CGI configuration for this host only
        # after it has been globally disabled with "a2disconf".
        #Include conf-available/serve-cgi-bin.conf

        # Proxy the request to PHP-FPM process
        ProxyPassMatch ^/(.*\.php(/.*)?)$ fcgi://127.0.0.1:9000/var/www/staging/orbit-mall-api/public/
</VirtualHost>
